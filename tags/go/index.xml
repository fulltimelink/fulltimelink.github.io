<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>go on Fulltime Link</title>
    <link>fulltimelink.github.io/tags/go/</link>
    <description>Recent content in go on Fulltime Link</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 31 Mar 2022 08:14:27 +0800</lastBuildDate><atom:link href="fulltimelink.github.io/tags/go/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kratos Rpc尝试的二三事</title>
      <link>fulltimelink.github.io/post/kratos-rpc%E5%B0%9D%E8%AF%95%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/</link>
      <pubDate>Thu, 31 Mar 2022 08:14:27 +0800</pubDate>
      
      <guid>fulltimelink.github.io/post/kratos-rpc%E5%B0%9D%E8%AF%95%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/</guid>
      <description>起  经过这一段时间对kratos框架的了解，也算大致熟悉了整体的使用流程，以及DDD的一些思想。 恰巧我台有个c端转码的业务，为了不让机房里的那些T4闲置落灰，遂决定用kratos把玩一番。
 析  既然是使用GPU转码，就先确认GPU转码的可行性。由于我台目前整体已经推成了容器化的部署， 所以测试Dockerfile的内容大概就是如下三步：
 加载GPU官方基础镜像-(动辄几个G，确实大&amp;hellip;) 添加ffmpeg源码进行编译安装-(源安装的ffmpeg不能使用GPU) 添加自己转码服务程序   坑1  等了半天，镜像终于制作好，本机没有好的显卡，也为了和生产环境保持一致，推到服务器进行 测试，打tag， 推harbor, rancher部署（指定调度到带GPU的node）。exec进去看看驱动 是否一切正常：
[root@transcode-6b9c5cb9f6-98hht app]# nvidia-smi Thu Mar 31 08:38:28 2022 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 440.56 Driver Version: 440.56 CUDA Version: 10.2 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | |===============================+======================+======================| | 0 GRID T4-8Q On | 00000000:00:0A.</description>
    </item>
    
  </channel>
</rss>
